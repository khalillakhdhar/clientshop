(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('@angular/core'),exports, require('@angular/core'), require('@angular/common'), require('rxjs'), require('rxjs/operators'), require('firebase/app')) :
    typeof define === 'function' && define.amd ? define(['@angular/core','exports', '@angular/core', '@angular/common', 'rxjs', 'rxjs/operators', 'firebase/app'], factory) :
    (factory(global.ng.core,(global.angularfire2 = {}),global.ng.core,global.ng.common,global.rxjs,global.rxjs.operators,global.firebase));
}(this, (function (ɵngcc0,exports,core,common,rxjs,operators,firebase) { 'use strict';

    firebase = firebase && firebase.hasOwnProperty('default') ? firebase['default'] : firebase;

    var RealtimeDatabaseURL = new core.InjectionToken('angularfire2.realtimeDatabaseURL');
    var DATABASE_URL = RealtimeDatabaseURL;
    function noop() { }
    var ɵZoneScheduler = (function () {
        function ɵZoneScheduler(zone, delegate) {
            if (delegate === void 0) { delegate = rxjs.queueScheduler; }
            this.zone = zone;
            this.delegate = delegate;
        }
        ɵZoneScheduler.prototype.now = function () {
            return this.delegate.now();
        };
        ɵZoneScheduler.prototype.schedule = function (work, delay, state) {
            var targetZone = this.zone;
            var workInZone = function (state) {
                var _this = this;
                targetZone.runGuarded(function () {
                    work.apply(_this, [state]);
                });
            };
            return this.delegate.schedule(workInZone, delay, state);
        };
        return ɵZoneScheduler;
    }());
    var ɵBlockUntilFirstOperator = (function () {
        function ɵBlockUntilFirstOperator(zone) {
            this.zone = zone;
            this.task = null;
        }
        ɵBlockUntilFirstOperator.prototype.call = function (subscriber, source) {
            var unscheduleTask = this.unscheduleTask.bind(this);
            this.task = this.zone.run(function () { return Zone.current.scheduleMacroTask('firebaseZoneBlock', noop, {}, noop, noop); });
            return source.pipe(operators.tap(unscheduleTask, unscheduleTask, unscheduleTask)).subscribe(subscriber).add(unscheduleTask);
        };
        ɵBlockUntilFirstOperator.prototype.unscheduleTask = function () {
            if (this.task != null && this.task.state === 'scheduled') {
                this.task.invoke();
                this.task = null;
            }
        };
        return ɵBlockUntilFirstOperator;
    }());
    var ɵAngularFireSchedulers = (function () {
        function ɵAngularFireSchedulers(ngZone) {
            this.ngZone = ngZone;
            this.outsideAngular = ngZone.runOutsideAngular(function () { return new ɵZoneScheduler(Zone.current); });
            this.insideAngular = ngZone.run(function () { return new ɵZoneScheduler(Zone.current, rxjs.asyncScheduler); });
        }
        return ɵAngularFireSchedulers;
    }());
    function ɵkeepUnstableUntilFirstFactory(schedulers, platformId) {
        return function keepUnstableUntilFirst(obs$) {
            if (common.isPlatformServer(platformId)) {
                obs$ = obs$.lift(new ɵBlockUntilFirstOperator(schedulers.ngZone));
            }
            return obs$.pipe(operators.subscribeOn(schedulers.outsideAngular), operators.observeOn(schedulers.insideAngular));
        };
    }
    var runOutsideAngular = function (zone) { return function (obs$) {
        return new rxjs.Observable(function (subscriber) {
            return zone.runOutsideAngular(function () {
                runInZone(zone)(obs$).subscribe(subscriber);
            });
        });
    }; };
    var runInZone = function (zone) { return function (obs$) {
        return new rxjs.Observable(function (subscriber) {
            return obs$.subscribe(function (value) { return zone.run(function () { return subscriber.next(value); }); }, function (error) { return zone.run(function () { return subscriber.error(error); }); }, function () { return zone.run(function () { return subscriber.complete(); }); });
        });
    }; };
    var FirebaseZoneScheduler = (function () {
        function FirebaseZoneScheduler(zone, platformId) {
            this.zone = zone;
            this.platformId = platformId;
        }
        FirebaseZoneScheduler.prototype.schedule = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
            }
            return this.zone.runGuarded(function () { return rxjs.queueScheduler.schedule.apply(rxjs.queueScheduler, args); });
        };
        FirebaseZoneScheduler.prototype.keepUnstableUntilFirst = function (obs$) {
            if (common.isPlatformServer(this.platformId)) {
                return new rxjs.Observable(function (subscriber) {
                    var noop = function () { };
                    var task = Zone.current.scheduleMacroTask('firebaseZoneBlock', noop, {}, noop, noop);
                    obs$.subscribe(function (next) {
                        if (task.state === 'scheduled') {
                            task.invoke();
                        }
                        subscriber.next(next);
                    }, function (error) {
                        if (task.state === 'scheduled') {
                            task.invoke();
                        }
                        subscriber.error(error);
                    }, function () {
                        if (task.state === 'scheduled') {
                            task.invoke();
                        }
                        subscriber.complete();
                    });
                });
            }
            else {
                return obs$;
            }
        };
        FirebaseZoneScheduler.prototype.runOutsideAngular = function (obs$) {
            var _this = this;
            return new rxjs.Observable(function (subscriber) {
                return _this.zone.runOutsideAngular(function () {
                    return obs$.subscribe(function (value) { return _this.zone.run(function () { return subscriber.next(value); }); }, function (error) { return _this.zone.run(function () { return subscriber.error(error); }); }, function () { return _this.zone.run(function () { return subscriber.complete(); }); });
                });
            });
        };
        return FirebaseZoneScheduler;
    }());
    var noopFunctions = ['ngOnDestroy'];
    var ɵlazySDKProxy = function (klass, observable, zone) {
        return new Proxy(klass, {
            get: function (_, name) { return zone.runOutsideAngular(function () {
                if (klass[name]) {
                    return klass[name];
                }
                if (noopFunctions.includes(name)) {
                    return function () { };
                }
                var promise = observable.toPromise().then(function (mod) {
                    var ret = mod && mod[name];
                    if (typeof ret == 'function') {
                        return ret.bind(mod);
                    }
                    else if (ret && ret.then) {
                        return ret.then(function (res) { return zone.run(function () { return res; }); });
                    }
                    else {
                        return zone.run(function () { return ret; });
                    }
                });
                return new Proxy(function () { return undefined; }, {
                    get: function (_, name) { return promise[name]; },
                    apply: function (self, _, args) { return promise.then(function (it) { return it && it.apply(void 0, args); }); }
                });
            }); }
        });
    };

    var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    var __metadata = (undefined && undefined.__metadata) || function (k, v) {
        if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
    };
    var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
        return function (target, key) { decorator(target, key, paramIndex); }
    };
    var FirebaseOptionsToken = new core.InjectionToken('angularfire2.app.options');
    var FirebaseNameOrConfigToken = new core.InjectionToken('angularfire2.app.nameOrConfig');
    var FIREBASE_OPTIONS = FirebaseOptionsToken;
    var FIREBASE_APP_NAME = FirebaseNameOrConfigToken;
    var FirebaseApp = (function () {
        function FirebaseApp() {
        }
        return FirebaseApp;
    }());
    var VERSION = new core.Version('5.4.2');
    function _firebaseAppFactory(options, zone, nameOrConfig) {
        var name = typeof nameOrConfig === 'string' && nameOrConfig || '[DEFAULT]';
        var config = typeof nameOrConfig === 'object' && nameOrConfig || {};
        config.name = config.name || name;
        var existingApp = firebase.apps.filter(function (app) { return app && app.name === config.name; })[0];
        return (existingApp || zone.runOutsideAngular(function () { return firebase.initializeApp(options, config); }));
    }
    var FirebaseAppProvider = {
        provide: FirebaseApp,
        useFactory: _firebaseAppFactory,
        deps: [
            FIREBASE_OPTIONS,
            core.NgZone,
            [new core.Optional(), FIREBASE_APP_NAME]
        ]
    };
    var AngularFireModule = (function () {
        function AngularFireModule(platformId) {
            if (firebase.registerVersion) {
                firebase.registerVersion('angularfire', VERSION.full, platformId.toString());
                firebase.registerVersion('angular', core.VERSION.full);
            }
        }
        AngularFireModule_1 = AngularFireModule;
        AngularFireModule.initializeApp = function (options, nameOrConfig) {
            return {
                ngModule: AngularFireModule_1,
                providers: [
                    { provide: FIREBASE_OPTIONS, useValue: options },
                    { provide: FIREBASE_APP_NAME, useValue: nameOrConfig }
                ]
            };
        };
        var AngularFireModule_1;
        AngularFireModule = AngularFireModule_1 = __decorate([ __param(0, core.Inject(core.PLATFORM_ID)),
            __metadata("design:paramtypes", [Object])
        ], AngularFireModule);
AngularFireModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: AngularFireModule });
AngularFireModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function AngularFireModule_Factory(t) { return new (t || AngularFireModule)(ɵngcc0.ɵɵinject(core.PLATFORM_ID)); }, providers: [FirebaseAppProvider] });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(AngularFireModule, [{
        type: core.NgModule,
        args: [{
                providers: [FirebaseAppProvider]
            }]
    }], function () { return [{ type: Object, decorators: [{
                type: core.Inject,
                args: [core.PLATFORM_ID]
            }] }]; }, null); })();
        return AngularFireModule;
    }());

    exports.RealtimeDatabaseURL = RealtimeDatabaseURL;
    exports.DATABASE_URL = DATABASE_URL;
    exports.ɵZoneScheduler = ɵZoneScheduler;
    exports.ɵBlockUntilFirstOperator = ɵBlockUntilFirstOperator;
    exports.ɵAngularFireSchedulers = ɵAngularFireSchedulers;
    exports.ɵkeepUnstableUntilFirstFactory = ɵkeepUnstableUntilFirstFactory;
    exports.runOutsideAngular = runOutsideAngular;
    exports.runInZone = runInZone;
    exports.FirebaseZoneScheduler = FirebaseZoneScheduler;
    exports.ɵlazySDKProxy = ɵlazySDKProxy;
    exports.FirebaseOptionsToken = FirebaseOptionsToken;
    exports.FirebaseNameOrConfigToken = FirebaseNameOrConfigToken;
    exports.FIREBASE_OPTIONS = FIREBASE_OPTIONS;
    exports.FIREBASE_APP_NAME = FIREBASE_APP_NAME;
    exports.FirebaseApp = FirebaseApp;
    exports.VERSION = VERSION;
    exports._firebaseAppFactory = _firebaseAppFactory;
    exports.AngularFireModule = AngularFireModule;

    Object.defineProperty(exports, '__esModule', { value: true });

})));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29yZS51bWQuanMiLCJzb3VyY2VzIjpbImNvcmUudW1kLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO29HQUMyRTt5RUFDbEI7NEJBQzVDOzBCQUNNOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs4REFpTjJDLEFBSW5EOzs7Ozs7Ozs7Ozs7O2tDQUVtQiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gICAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gZmFjdG9yeShleHBvcnRzLCByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyksIHJlcXVpcmUoJ0Bhbmd1bGFyL2NvbW1vbicpLCByZXF1aXJlKCdyeGpzJyksIHJlcXVpcmUoJ3J4anMvb3BlcmF0b3JzJyksIHJlcXVpcmUoJ2ZpcmViYXNlL2FwcCcpKSA6XG4gICAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKFsnZXhwb3J0cycsICdAYW5ndWxhci9jb3JlJywgJ0Bhbmd1bGFyL2NvbW1vbicsICdyeGpzJywgJ3J4anMvb3BlcmF0b3JzJywgJ2ZpcmViYXNlL2FwcCddLCBmYWN0b3J5KSA6XG4gICAgKGZhY3RvcnkoKGdsb2JhbC5hbmd1bGFyZmlyZTIgPSB7fSksZ2xvYmFsLm5nLmNvcmUsZ2xvYmFsLm5nLmNvbW1vbixnbG9iYWwucnhqcyxnbG9iYWwucnhqcy5vcGVyYXRvcnMsZ2xvYmFsLmZpcmViYXNlKSk7XG59KHRoaXMsIChmdW5jdGlvbiAoZXhwb3J0cyxjb3JlLGNvbW1vbixyeGpzLG9wZXJhdG9ycyxmaXJlYmFzZSkgeyAndXNlIHN0cmljdCc7XG5cbiAgICBmaXJlYmFzZSA9IGZpcmViYXNlICYmIGZpcmViYXNlLmhhc093blByb3BlcnR5KCdkZWZhdWx0JykgPyBmaXJlYmFzZVsnZGVmYXVsdCddIDogZmlyZWJhc2U7XG5cbiAgICB2YXIgUmVhbHRpbWVEYXRhYmFzZVVSTCA9IG5ldyBjb3JlLkluamVjdGlvblRva2VuKCdhbmd1bGFyZmlyZTIucmVhbHRpbWVEYXRhYmFzZVVSTCcpO1xuICAgIHZhciBEQVRBQkFTRV9VUkwgPSBSZWFsdGltZURhdGFiYXNlVVJMO1xuICAgIGZ1bmN0aW9uIG5vb3AoKSB7IH1cbiAgICB2YXIgybVab25lU2NoZWR1bGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gybVab25lU2NoZWR1bGVyKHpvbmUsIGRlbGVnYXRlKSB7XG4gICAgICAgICAgICBpZiAoZGVsZWdhdGUgPT09IHZvaWQgMCkgeyBkZWxlZ2F0ZSA9IHJ4anMucXVldWVTY2hlZHVsZXI7IH1cbiAgICAgICAgICAgIHRoaXMuem9uZSA9IHpvbmU7XG4gICAgICAgICAgICB0aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7XG4gICAgICAgIH1cbiAgICAgICAgybVab25lU2NoZWR1bGVyLnByb3RvdHlwZS5ub3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kZWxlZ2F0ZS5ub3coKTtcbiAgICAgICAgfTtcbiAgICAgICAgybVab25lU2NoZWR1bGVyLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uICh3b3JrLCBkZWxheSwgc3RhdGUpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXRab25lID0gdGhpcy56b25lO1xuICAgICAgICAgICAgdmFyIHdvcmtJblpvbmUgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgICAgIHRhcmdldFpvbmUucnVuR3VhcmRlZChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdvcmsuYXBwbHkoX3RoaXMsIFtzdGF0ZV0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRlbGVnYXRlLnNjaGVkdWxlKHdvcmtJblpvbmUsIGRlbGF5LCBzdGF0ZSk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiDJtVpvbmVTY2hlZHVsZXI7XG4gICAgfSgpKTtcbiAgICB2YXIgybVCbG9ja1VudGlsRmlyc3RPcGVyYXRvciA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIMm1QmxvY2tVbnRpbEZpcnN0T3BlcmF0b3Ioem9uZSkge1xuICAgICAgICAgICAgdGhpcy56b25lID0gem9uZTtcbiAgICAgICAgICAgIHRoaXMudGFzayA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgybVCbG9ja1VudGlsRmlyc3RPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgICAgIHZhciB1bnNjaGVkdWxlVGFzayA9IHRoaXMudW5zY2hlZHVsZVRhc2suYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMudGFzayA9IHRoaXMuem9uZS5ydW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gWm9uZS5jdXJyZW50LnNjaGVkdWxlTWFjcm9UYXNrKCdmaXJlYmFzZVpvbmVCbG9jaycsIG5vb3AsIHt9LCBub29wLCBub29wKTsgfSk7XG4gICAgICAgICAgICByZXR1cm4gc291cmNlLnBpcGUob3BlcmF0b3JzLnRhcCh1bnNjaGVkdWxlVGFzaywgdW5zY2hlZHVsZVRhc2ssIHVuc2NoZWR1bGVUYXNrKSkuc3Vic2NyaWJlKHN1YnNjcmliZXIpLmFkZCh1bnNjaGVkdWxlVGFzayk7XG4gICAgICAgIH07XG4gICAgICAgIMm1QmxvY2tVbnRpbEZpcnN0T3BlcmF0b3IucHJvdG90eXBlLnVuc2NoZWR1bGVUYXNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudGFzayAhPSBudWxsICYmIHRoaXMudGFzay5zdGF0ZSA9PT0gJ3NjaGVkdWxlZCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRhc2suaW52b2tlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy50YXNrID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIMm1QmxvY2tVbnRpbEZpcnN0T3BlcmF0b3I7XG4gICAgfSgpKTtcbiAgICB2YXIgybVBbmd1bGFyRmlyZVNjaGVkdWxlcnMgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiDJtUFuZ3VsYXJGaXJlU2NoZWR1bGVycyhuZ1pvbmUpIHtcbiAgICAgICAgICAgIHRoaXMubmdab25lID0gbmdab25lO1xuICAgICAgICAgICAgdGhpcy5vdXRzaWRlQW5ndWxhciA9IG5nWm9uZS5ydW5PdXRzaWRlQW5ndWxhcihmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgybVab25lU2NoZWR1bGVyKFpvbmUuY3VycmVudCk7IH0pO1xuICAgICAgICAgICAgdGhpcy5pbnNpZGVBbmd1bGFyID0gbmdab25lLnJ1bihmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgybVab25lU2NoZWR1bGVyKFpvbmUuY3VycmVudCwgcnhqcy5hc3luY1NjaGVkdWxlcik7IH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiDJtUFuZ3VsYXJGaXJlU2NoZWR1bGVycztcbiAgICB9KCkpO1xuICAgIGZ1bmN0aW9uIMm1a2VlcFVuc3RhYmxlVW50aWxGaXJzdEZhY3Rvcnkoc2NoZWR1bGVycywgcGxhdGZvcm1JZCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24ga2VlcFVuc3RhYmxlVW50aWxGaXJzdChvYnMkKSB7XG4gICAgICAgICAgICBpZiAoY29tbW9uLmlzUGxhdGZvcm1TZXJ2ZXIocGxhdGZvcm1JZCkpIHtcbiAgICAgICAgICAgICAgICBvYnMkID0gb2JzJC5saWZ0KG5ldyDJtUJsb2NrVW50aWxGaXJzdE9wZXJhdG9yKHNjaGVkdWxlcnMubmdab25lKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb2JzJC5waXBlKG9wZXJhdG9ycy5zdWJzY3JpYmVPbihzY2hlZHVsZXJzLm91dHNpZGVBbmd1bGFyKSwgb3BlcmF0b3JzLm9ic2VydmVPbihzY2hlZHVsZXJzLmluc2lkZUFuZ3VsYXIpKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdmFyIHJ1bk91dHNpZGVBbmd1bGFyID0gZnVuY3Rpb24gKHpvbmUpIHsgcmV0dXJuIGZ1bmN0aW9uIChvYnMkKSB7XG4gICAgICAgIHJldHVybiBuZXcgcnhqcy5PYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gem9uZS5ydW5PdXRzaWRlQW5ndWxhcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcnVuSW5ab25lKHpvbmUpKG9icyQpLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9OyB9O1xuICAgIHZhciBydW5JblpvbmUgPSBmdW5jdGlvbiAoem9uZSkgeyByZXR1cm4gZnVuY3Rpb24gKG9icyQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyByeGpzLk9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBvYnMkLnN1YnNjcmliZShmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIHpvbmUucnVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7IH0pOyB9LCBmdW5jdGlvbiAoZXJyb3IpIHsgcmV0dXJuIHpvbmUucnVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuZXJyb3IoZXJyb3IpOyB9KTsgfSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gem9uZS5ydW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaWJlci5jb21wbGV0ZSgpOyB9KTsgfSk7XG4gICAgICAgIH0pO1xuICAgIH07IH07XG4gICAgdmFyIEZpcmViYXNlWm9uZVNjaGVkdWxlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIEZpcmViYXNlWm9uZVNjaGVkdWxlcih6b25lLCBwbGF0Zm9ybUlkKSB7XG4gICAgICAgICAgICB0aGlzLnpvbmUgPSB6b25lO1xuICAgICAgICAgICAgdGhpcy5wbGF0Zm9ybUlkID0gcGxhdGZvcm1JZDtcbiAgICAgICAgfVxuICAgICAgICBGaXJlYmFzZVpvbmVTY2hlZHVsZXIucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuem9uZS5ydW5HdWFyZGVkKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJ4anMucXVldWVTY2hlZHVsZXIuc2NoZWR1bGUuYXBwbHkocnhqcy5xdWV1ZVNjaGVkdWxlciwgYXJncyk7IH0pO1xuICAgICAgICB9O1xuICAgICAgICBGaXJlYmFzZVpvbmVTY2hlZHVsZXIucHJvdG90eXBlLmtlZXBVbnN0YWJsZVVudGlsRmlyc3QgPSBmdW5jdGlvbiAob2JzJCkge1xuICAgICAgICAgICAgaWYgKGNvbW1vbi5pc1BsYXRmb3JtU2VydmVyKHRoaXMucGxhdGZvcm1JZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHJ4anMuT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbm9vcCA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhc2sgPSBab25lLmN1cnJlbnQuc2NoZWR1bGVNYWNyb1Rhc2soJ2ZpcmViYXNlWm9uZUJsb2NrJywgbm9vcCwge30sIG5vb3AsIG5vb3ApO1xuICAgICAgICAgICAgICAgICAgICBvYnMkLnN1YnNjcmliZShmdW5jdGlvbiAobmV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhc2suc3RhdGUgPT09ICdzY2hlZHVsZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFzay5pbnZva2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChuZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFzay5zdGF0ZSA9PT0gJ3NjaGVkdWxlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLmludm9rZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXNrLnN0YXRlID09PSAnc2NoZWR1bGVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2suaW52b2tlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9icyQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIEZpcmViYXNlWm9uZVNjaGVkdWxlci5wcm90b3R5cGUucnVuT3V0c2lkZUFuZ3VsYXIgPSBmdW5jdGlvbiAob2JzJCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBuZXcgcnhqcy5PYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnpvbmUucnVuT3V0c2lkZUFuZ3VsYXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JzJC5zdWJzY3JpYmUoZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBfdGhpcy56b25lLnJ1bihmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLm5leHQodmFsdWUpOyB9KTsgfSwgZnVuY3Rpb24gKGVycm9yKSB7IHJldHVybiBfdGhpcy56b25lLnJ1bihmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLmVycm9yKGVycm9yKTsgfSk7IH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnpvbmUucnVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSk7IH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBGaXJlYmFzZVpvbmVTY2hlZHVsZXI7XG4gICAgfSgpKTtcbiAgICB2YXIgbm9vcEZ1bmN0aW9ucyA9IFsnbmdPbkRlc3Ryb3knXTtcbiAgICB2YXIgybVsYXp5U0RLUHJveHkgPSBmdW5jdGlvbiAoa2xhc3MsIG9ic2VydmFibGUsIHpvbmUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm94eShrbGFzcywge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoXywgbmFtZSkgeyByZXR1cm4gem9uZS5ydW5PdXRzaWRlQW5ndWxhcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGtsYXNzW25hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBrbGFzc1tuYW1lXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5vb3BGdW5jdGlvbnMuaW5jbHVkZXMobmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHByb21pc2UgPSBvYnNlcnZhYmxlLnRvUHJvbWlzZSgpLnRoZW4oZnVuY3Rpb24gKG1vZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0ID0gbW9kICYmIG1vZFtuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXQgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldC5iaW5kKG1vZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocmV0ICYmIHJldC50aGVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0LnRoZW4oZnVuY3Rpb24gKHJlcykgeyByZXR1cm4gem9uZS5ydW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzOyB9KTsgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gem9uZS5ydW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gcmV0OyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJveHkoZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LCB7XG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKF8sIG5hbWUpIHsgcmV0dXJuIHByb21pc2VbbmFtZV07IH0sXG4gICAgICAgICAgICAgICAgICAgIGFwcGx5OiBmdW5jdGlvbiAoc2VsZiwgXywgYXJncykgeyByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChpdCkgeyByZXR1cm4gaXQgJiYgaXQuYXBwbHkodm9pZCAwLCBhcmdzKTsgfSk7IH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pOyB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgX19kZWNvcmF0ZSA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgICAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgICAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgICAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgICAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xuICAgIH07XG4gICAgdmFyIF9fbWV0YWRhdGEgPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX21ldGFkYXRhKSB8fCBmdW5jdGlvbiAoaywgdikge1xuICAgICAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoaywgdik7XG4gICAgfTtcbiAgICB2YXIgX19wYXJhbSA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fcGFyYW0pIHx8IGZ1bmN0aW9uIChwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XG4gICAgfTtcbiAgICB2YXIgRmlyZWJhc2VPcHRpb25zVG9rZW4gPSBuZXcgY29yZS5JbmplY3Rpb25Ub2tlbignYW5ndWxhcmZpcmUyLmFwcC5vcHRpb25zJyk7XG4gICAgdmFyIEZpcmViYXNlTmFtZU9yQ29uZmlnVG9rZW4gPSBuZXcgY29yZS5JbmplY3Rpb25Ub2tlbignYW5ndWxhcmZpcmUyLmFwcC5uYW1lT3JDb25maWcnKTtcbiAgICB2YXIgRklSRUJBU0VfT1BUSU9OUyA9IEZpcmViYXNlT3B0aW9uc1Rva2VuO1xuICAgIHZhciBGSVJFQkFTRV9BUFBfTkFNRSA9IEZpcmViYXNlTmFtZU9yQ29uZmlnVG9rZW47XG4gICAgdmFyIEZpcmViYXNlQXBwID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gRmlyZWJhc2VBcHAoKSB7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEZpcmViYXNlQXBwO1xuICAgIH0oKSk7XG4gICAgdmFyIFZFUlNJT04gPSBuZXcgY29yZS5WZXJzaW9uKCc1LjQuMicpO1xuICAgIGZ1bmN0aW9uIF9maXJlYmFzZUFwcEZhY3Rvcnkob3B0aW9ucywgem9uZSwgbmFtZU9yQ29uZmlnKSB7XG4gICAgICAgIHZhciBuYW1lID0gdHlwZW9mIG5hbWVPckNvbmZpZyA9PT0gJ3N0cmluZycgJiYgbmFtZU9yQ29uZmlnIHx8ICdbREVGQVVMVF0nO1xuICAgICAgICB2YXIgY29uZmlnID0gdHlwZW9mIG5hbWVPckNvbmZpZyA9PT0gJ29iamVjdCcgJiYgbmFtZU9yQ29uZmlnIHx8IHt9O1xuICAgICAgICBjb25maWcubmFtZSA9IGNvbmZpZy5uYW1lIHx8IG5hbWU7XG4gICAgICAgIHZhciBleGlzdGluZ0FwcCA9IGZpcmViYXNlLmFwcHMuZmlsdGVyKGZ1bmN0aW9uIChhcHApIHsgcmV0dXJuIGFwcCAmJiBhcHAubmFtZSA9PT0gY29uZmlnLm5hbWU7IH0pWzBdO1xuICAgICAgICByZXR1cm4gKGV4aXN0aW5nQXBwIHx8IHpvbmUucnVuT3V0c2lkZUFuZ3VsYXIoZnVuY3Rpb24gKCkgeyByZXR1cm4gZmlyZWJhc2UuaW5pdGlhbGl6ZUFwcChvcHRpb25zLCBjb25maWcpOyB9KSk7XG4gICAgfVxuICAgIHZhciBGaXJlYmFzZUFwcFByb3ZpZGVyID0ge1xuICAgICAgICBwcm92aWRlOiBGaXJlYmFzZUFwcCxcbiAgICAgICAgdXNlRmFjdG9yeTogX2ZpcmViYXNlQXBwRmFjdG9yeSxcbiAgICAgICAgZGVwczogW1xuICAgICAgICAgICAgRklSRUJBU0VfT1BUSU9OUyxcbiAgICAgICAgICAgIGNvcmUuTmdab25lLFxuICAgICAgICAgICAgW25ldyBjb3JlLk9wdGlvbmFsKCksIEZJUkVCQVNFX0FQUF9OQU1FXVxuICAgICAgICBdXG4gICAgfTtcbiAgICB2YXIgQW5ndWxhckZpcmVNb2R1bGUgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBBbmd1bGFyRmlyZU1vZHVsZShwbGF0Zm9ybUlkKSB7XG4gICAgICAgICAgICBpZiAoZmlyZWJhc2UucmVnaXN0ZXJWZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgZmlyZWJhc2UucmVnaXN0ZXJWZXJzaW9uKCdhbmd1bGFyZmlyZScsIFZFUlNJT04uZnVsbCwgcGxhdGZvcm1JZC50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICBmaXJlYmFzZS5yZWdpc3RlclZlcnNpb24oJ2FuZ3VsYXInLCBjb3JlLlZFUlNJT04uZnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgQW5ndWxhckZpcmVNb2R1bGVfMSA9IEFuZ3VsYXJGaXJlTW9kdWxlO1xuICAgICAgICBBbmd1bGFyRmlyZU1vZHVsZS5pbml0aWFsaXplQXBwID0gZnVuY3Rpb24gKG9wdGlvbnMsIG5hbWVPckNvbmZpZykge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBuZ01vZHVsZTogQW5ndWxhckZpcmVNb2R1bGVfMSxcbiAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtcbiAgICAgICAgICAgICAgICAgICAgeyBwcm92aWRlOiBGSVJFQkFTRV9PUFRJT05TLCB1c2VWYWx1ZTogb3B0aW9ucyB9LFxuICAgICAgICAgICAgICAgICAgICB7IHByb3ZpZGU6IEZJUkVCQVNFX0FQUF9OQU1FLCB1c2VWYWx1ZTogbmFtZU9yQ29uZmlnIH1cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICB2YXIgQW5ndWxhckZpcmVNb2R1bGVfMTtcbiAgICAgICAgQW5ndWxhckZpcmVNb2R1bGUgPSBBbmd1bGFyRmlyZU1vZHVsZV8xID0gX19kZWNvcmF0ZShbXG4gICAgICAgICAgICBjb3JlLk5nTW9kdWxlKHtcbiAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtGaXJlYmFzZUFwcFByb3ZpZGVyXSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgX19wYXJhbSgwLCBjb3JlLkluamVjdChjb3JlLlBMQVRGT1JNX0lEKSksXG4gICAgICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW09iamVjdF0pXG4gICAgICAgIF0sIEFuZ3VsYXJGaXJlTW9kdWxlKTtcbiAgICAgICAgcmV0dXJuIEFuZ3VsYXJGaXJlTW9kdWxlO1xuICAgIH0oKSk7XG5cbiAgICBleHBvcnRzLlJlYWx0aW1lRGF0YWJhc2VVUkwgPSBSZWFsdGltZURhdGFiYXNlVVJMO1xuICAgIGV4cG9ydHMuREFUQUJBU0VfVVJMID0gREFUQUJBU0VfVVJMO1xuICAgIGV4cG9ydHMuybVab25lU2NoZWR1bGVyID0gybVab25lU2NoZWR1bGVyO1xuICAgIGV4cG9ydHMuybVCbG9ja1VudGlsRmlyc3RPcGVyYXRvciA9IMm1QmxvY2tVbnRpbEZpcnN0T3BlcmF0b3I7XG4gICAgZXhwb3J0cy7JtUFuZ3VsYXJGaXJlU2NoZWR1bGVycyA9IMm1QW5ndWxhckZpcmVTY2hlZHVsZXJzO1xuICAgIGV4cG9ydHMuybVrZWVwVW5zdGFibGVVbnRpbEZpcnN0RmFjdG9yeSA9IMm1a2VlcFVuc3RhYmxlVW50aWxGaXJzdEZhY3Rvcnk7XG4gICAgZXhwb3J0cy5ydW5PdXRzaWRlQW5ndWxhciA9IHJ1bk91dHNpZGVBbmd1bGFyO1xuICAgIGV4cG9ydHMucnVuSW5ab25lID0gcnVuSW5ab25lO1xuICAgIGV4cG9ydHMuRmlyZWJhc2Vab25lU2NoZWR1bGVyID0gRmlyZWJhc2Vab25lU2NoZWR1bGVyO1xuICAgIGV4cG9ydHMuybVsYXp5U0RLUHJveHkgPSDJtWxhenlTREtQcm94eTtcbiAgICBleHBvcnRzLkZpcmViYXNlT3B0aW9uc1Rva2VuID0gRmlyZWJhc2VPcHRpb25zVG9rZW47XG4gICAgZXhwb3J0cy5GaXJlYmFzZU5hbWVPckNvbmZpZ1Rva2VuID0gRmlyZWJhc2VOYW1lT3JDb25maWdUb2tlbjtcbiAgICBleHBvcnRzLkZJUkVCQVNFX09QVElPTlMgPSBGSVJFQkFTRV9PUFRJT05TO1xuICAgIGV4cG9ydHMuRklSRUJBU0VfQVBQX05BTUUgPSBGSVJFQkFTRV9BUFBfTkFNRTtcbiAgICBleHBvcnRzLkZpcmViYXNlQXBwID0gRmlyZWJhc2VBcHA7XG4gICAgZXhwb3J0cy5WRVJTSU9OID0gVkVSU0lPTjtcbiAgICBleHBvcnRzLl9maXJlYmFzZUFwcEZhY3RvcnkgPSBfZmlyZWJhc2VBcHBGYWN0b3J5O1xuICAgIGV4cG9ydHMuQW5ndWxhckZpcmVNb2R1bGUgPSBBbmd1bGFyRmlyZU1vZHVsZTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbn0pKSk7XG4iXX0=